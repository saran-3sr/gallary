{"version":3,"sources":["comp/Title.js","Firebase/config.js","hooks/Userstorage.js","comp/Progressbar.js","comp/Form.js","hooks/Usefirestore.js","comp/photogrd.js","App.js","index.js"],"names":["Title","react_default","a","createElement","className","projectStorage","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","projectFirestore","firestore","Userstorage","file","_useState","useState","_useState2","Object","slicedToArray","progress","setProgess","_useState3","_useState4","error","seterror","_useState5","_useState6","url","seturl","useEffect","storageRef","ref","concat","name","collectionRef","collection","put","on","snap","console","log","percentage","bytesTransferred","totalBytes","err","asyncToGenerator","regenerator_default","mark","_callee","today","update","wrap","_context","prev","next","getDownloadURL","sent","Date","getHours","add","stop","Progressbar","_ref","setfile","_Userstorage","alert","style","width","Form","setError","htmlFor","type","id","onChange","e","selected","target","files","onClick","document","getElementById","click","comp_Progressbar","Usefirestore","images","setimages","unsub","orderBy","onSnapshot","documents","forEach","doc","push","objectSpread2","data","Photogrid","map","img","key","src","alt","App","comp_Title","comp_Form","photogrd","ReactDOM","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.282ecee4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Title()\r\n{\r\n    return(\r\n        <div className=\"title\">\r\n            <div className=\"header\">\r\n            <h1>3SR</h1>\r\n            <h2>Photo Gallery</h2>\r\n            </div>\r\n            \r\n            <p>Hi!This is a Photo gallery Developed using React and Firebase. As it works on developer mode I kindly request you to upload photos with less file size. Also I request you not to upload any personal photos</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Title;","import firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/storage';\r\nimport 'firebase/compat/firestore';\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAoJELYatTfdBvbRKpOF9X-GGOGgIjsCXk\",\r\n  authDomain: \"gallery-app-1-ba91f.firebaseapp.com\",\r\n  projectId: \"gallery-app-1-ba91f\",\r\n  storageBucket: \"gallery-app-1-ba91f.appspot.com\",\r\n  messagingSenderId: \"319075094551\",\r\n  appId: \"1:319075094551:web:6695d703daa85c338e8c52\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app=firebase.initializeApp(firebaseConfig);\r\n\r\n\r\n  const projectStorage=firebase.storage();\r\n  const projectFirestore=firebase.firestore();\r\n\r\n  export{projectStorage,projectFirestore};","import { dblClick } from \"@testing-library/user-event/dist/click\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { projectStorage } from \"../Firebase/config\";\r\nimport { projectFirestore} from \"../Firebase/config\";\r\nconst Userstorage=(file)=>{\r\n    const [progress,setProgess]=useState(0)\r\n    const [error, seterror] = useState(null)\r\n    const [url, seturl] = useState(null)\r\n    useEffect(()=>{\r\n        const storageRef=projectStorage.ref(`${file.name}`);\r\n        const collectionRef=projectFirestore.collection(\"Images\")\r\n        storageRef.put(file).on('state_changed',(snap)=>{\r\n            console.log(file.name)\r\n            let percentage=(snap.bytesTransferred/snap.totalBytes)*100;\r\n            setProgess(percentage);\r\n        },(err)=>{\r\n            seterror(err);\r\n        },async()=>{\r\n            const url=await storageRef.getDownloadURL()\r\n            const today=new Date();\r\n            const update=today.getHours();\r\n            await collectionRef.add({url,update});\r\n            seturl(url);\r\n        })\r\n       \r\n        \r\n    },[file]);\r\n    \r\n    return {progress,url,error}\r\n}\r\nexport default Userstorage","import React from \"react\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport Userstorage from \"../hooks/Userstorage\"\r\n\r\nfunction Progressbar({file,setfile})\r\n{\r\n    const {progress,url,error}=Userstorage(file);\r\n    console.log(progress,url);\r\n    useEffect(()=>{\r\n        if(url){\r\n            setfile(null);\r\n        }\r\n        if(error)\r\n        {\r\n            alert(error);\r\n        }\r\n    },[url])\r\n    return(\r\n        <div className=\"progress-bar\" style={{width:{progress}}}>\r\n        </div>\r\n    );\r\n    \r\n    \r\n    \r\n    \r\n}\r\nexport default Progressbar\r\n\r\n ","import React, {useState} from 'react';\r\nimport Progressbar from './Progressbar';\r\n\r\nfunction Form()\r\n{\r\nconst [file, setfile] = useState(null);\r\nconst [error,setError]=useState(null);\r\nconst eventhandler=(e)=>{\r\n    let selected=e.target.files[0];\r\n    console.log(selected)\r\n    if(selected.type==\"image/png\"||selected.type==\"image/jpeg\")\r\n    {\r\n        setfile(selected); \r\n        setError(null); \r\n    }\r\n    else\r\n    {\r\n        setfile(null)\r\n        setError(\"Please upload valid image format\")\r\n    }  \r\n}\r\nconst Clickhandler=()=>{\r\n    const s=document.getElementById(\"file\").click();\r\n}\r\n    return(\r\n    <div className=\"form\">\r\n        <label htmlFor=\"form\">\r\n            <input className='custom-file-input'type=\"file\" id=\"file\" onChange={eventhandler}/>\r\n            <span onClick={Clickhandler}>+</span>\r\n        </label>\r\n        <div className=\"output\">\r\n            { error && <div className=\"error\">{error}</div> }\r\n            { file && <div className={file.name} id='file'>{file.name}</div>}\r\n            {file && <Progressbar file={file} setfile={setfile}/>}\r\n\r\n        </div>\r\n    </div>\r\n    );\r\n\r\n    \r\n}\r\nexport default Form;","import { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { projectFirestore } from \"../Firebase/config\";\r\n\r\nconst Usefirestore=(collection)=>{\r\n    const [images, setimages] = useState([]);\r\n    useEffect(()=>{\r\n       const unsub=projectFirestore.collection(collection)\r\n        .orderBy('update','desc')\r\n        .onSnapshot((snap)=> {\r\n            let documents=[];\r\n            snap.forEach(doc=>{\r\n                documents.push({...doc.data(), id:doc.id})\r\n            });\r\n            setimages(documents);\r\n        })\r\n        return()=>unsub();\r\n    },[collection])\r\n    \r\n    return  {images};\r\n}\r\n\r\nexport default Usefirestore;","import React from \"react\";\r\nimport Usefirestore from \"../hooks/Usefirestore\";\r\n\r\nfunction Photogrid()\r\n{\r\n    const {images}=Usefirestore('Images');\r\n    console.log(images);\r\n    \r\n    return(\r\n        <div className=\"Photogrid\">\r\n            {images &&images.map(img=>(\r\n                <div className=\"grid\" key={img.id}>\r\n                    <img className=\"img\"src={img.url} alt=\"\"/>\r\n                </div>\r\n                \r\n            ))}\r\n        </div>\r\n    );\r\n        \r\n}\r\nexport default Photogrid;","import './App.css';\nimport Title from './comp/Title'\nimport Form from './comp/Form'\nimport React from 'react';\nimport Photogrid from './comp/photogrd';\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Title/>\n      <Form/>\n      <hr className=\"line\"/>\n      <Photogrid/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}